{
	"info": {
		"_postman_id": "da5584ee-cb51-450e-8fbf-6fee94edc067",
		"name": "Mock_payment_api",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "22804049",
		"_collection_link": "https://blue-firefly-918739.postman.co/workspace/e48ffb62-36a5-4ad7-a8a9-b8968bc04b96/collection/22804049-da5584ee-cb51-450e-8fbf-6fee94edc067?action=share&source=collection_link&creator=22804049"
	},
	"item": [
		{
			"name": "Status & Health Check",
			"item": [
				{
					"name": "Positive Tests Check API Status",
					"item": [
						{
							"name": "Check API Status",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check Status Code\r",
											"pm.test(\"Status code is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											" // 2. Check response time is less than 500ms\r",
											"pm.test(\"Response time is less than 500ms\", () => {\r",
											"  pm.expect(pm.response.responseTime).to.be.below(500);\r",
											"});\r",
											"\r",
											"// 3. Check the response body contains the expected properties\r",
											"pm.test(\"The response has all properties\", () => {\r",
											"    //parse the response JSON and test the properties\r",
											"    const responseJson = pm.response.json();\r",
											"    pm.expect(responseJson).to.have.property(\"status\");\r",
											"    pm.expect(responseJson).to.have.property(\"service\");\r",
											"    pm.expect(responseJson).to.have.property(\"version\");\r",
											"    pm.expect(responseJson).to.have.property(\"message\");\r",
											"    pm.expect(responseJson).to.have.property(\"metrics\");\r",
											"\r",
											"    pm.expect(responseJson.metrics).to.have.property(\"totalTransactions\")\r",
											"    pm.expect(responseJson.metrics).to.have.property(\"lastRestart\");\r",
											"});\r",
											"\r",
											"// 4. Check the response body data types\r",
											"pm.test(\"The response body data types are correct\", () => {\r",
											"    //parse the response JSON and test the data types of the properties \r",
											"    const responseJson = pm.response.json();\r",
											"    pm.expect(responseJson.status).to.be.a(\"string\");\r",
											"    pm.expect(responseJson.service).to.be.a(\"string\");\r",
											"    pm.expect(responseJson.version).to.be.a(\"string\");\r",
											"    pm.expect(responseJson.message).to.be.a(\"string\");\r",
											"    pm.expect(responseJson.metrics.totalTransactions).to.be.a(\"number\");\r",
											"    pm.expect(responseJson.metrics.lastRestart).to.be.a(\"string\");\r",
											"})\r",
											"\r",
											"pm.test(\"lastRestart is a valid ISO 8601 timestamp\", () => {\r",
											"    const responseJson = pm.response.json();\r",
											"\r",
											"    // ISO 8601 with microseconds: 2025-11-10T13:01:12.615000Z\r",
											"    const isoRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d{1,6})?Z$/;\r",
											"\r",
											"    pm.expect(responseJson.metrics.lastRestart).to.match(isoRegex);\r",
											"});\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/v1/status",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"status"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Negative Tests Check API Status",
					"item": [
						{
							"name": "Check API Status Invalid URL Path",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check Status Code\r",
											"pm.test(\"Status code is 404\", () => {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"\r",
											"//parse the response JSON and test the properties\r",
											"    const responseJson = pm.response.json();\r",
											" // 2. Check response time is less than 500ms\r",
											"pm.test(\"Response time is less than 500ms\", () => {\r",
											"  pm.expect(pm.response.responseTime).to.be.below(500);\r",
											"});\r",
											"\r",
											"// 3. Check the response body contains the expected properties\r",
											"pm.test(\"The response has property 'detail' with a value 'string'\", () => {\r",
											"    pm.expect(responseJson).to.have.property(\"detail\");\r",
											"    pm.expect(responseJson.detail).to.be.a(\"string\");\r",
											"});\r",
											"\r",
											"// 4. Check the response body message\r",
											"pm.test(\"The response body data is correct\", () => {\r",
											"    pm.expect(responseJson.detail).to.equal(\"Not Found\");\r",
											"})\r",
											"\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/v1/statu$",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"statu$"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check API Status Wrong HTTP Method",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check Status Code\r",
											"pm.test(\"Status code is 405\", () => {\r",
											"    pm.response.to.have.status(405);\r",
											"});\r",
											"\r",
											"//parse the response JSON and test the properties\r",
											"    const responseJson = pm.response.json();\r",
											" // 2. Check response time is less than 500ms\r",
											"pm.test(\"Response time is less than 500ms\", () => {\r",
											"  pm.expect(pm.response.responseTime).to.be.below(500);\r",
											"});\r",
											"\r",
											"// 3. Check the response body contains the expected properties\r",
											"pm.test(\"The response has property 'detail' with a value 'string'\", () => {\r",
											"    pm.expect(responseJson).to.have.property(\"detail\");\r",
											"    pm.expect(responseJson.detail).to.be.a(\"string\");\r",
											"});\r",
											"\r",
											"// 4. Check the response body message\r",
											"pm.test(\"The response body data is correct\", () => {\r",
											"    pm.expect(responseJson.detail).to.equal(\"Method Not Allowed\");\r",
											"})\r",
											"\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/v1/status",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"status"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "User Management & Authentication",
			"item": [
				{
					"name": "Positive Tests User Management & Authentication",
					"item": [
						{
							"name": "Register New User",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"if(pm.request.body && pm.request.body.raw){\r",
											"const req = JSON.parse(pm.request.body.raw);\r",
											"// if request body True set environment variables\r",
											"pm.environment.set(\"test_user_name\", req.name);\r",
											"pm.environment.set(\"test_user_email\", req.email);\r",
											"pm.environment.set(\"test_user_password\", req.password);\r",
											"};"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check Status Code\r",
											"pm.test(\"Status code is 201\", () => {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"    //parse the response JSON body\r",
											"    const responseJson = pm.response.json();\r",
											"    console.log(responseJson);\r",
											"    \r",
											"\r",
											"// 2. Set environment variables for the test_user.\r",
											"pm.test(\"Set environment variables test_user id, api key, webhook secret, and role.  \", () => {\r",
											"    \r",
											"pm.environment.set(\"test_user_id\", responseJson.userId);\r",
											"pm.environment.set(\"test_user_api_key\", responseJson.apiKey);\r",
											"pm.environment.set(\"test_user_webhook_secret\", responseJson.webhookSecret);\r",
											"pm.environment.set(\"test_user_role\", responseJson.role);\r",
											"})\r",
											"\r",
											"// 3. Check the response body contains the expected properties\r",
											"pm.test(\"The response has all properties\", () => {\r",
											"    pm.expect(responseJson).to.have.property(\"message\");\r",
											"    pm.expect(responseJson).to.have.property(\"userId\");\r",
											"    pm.expect(responseJson).to.have.property(\"apiKey\");\r",
											"    pm.expect(responseJson).to.have.property(\"webhookSecret\");\r",
											"    pm.expect(responseJson).to.have.property(\"role\");\r",
											"    pm.expect(responseJson).to.have.property(\"createdAt\");\r",
											"});\r",
											"\r",
											"// 4. Check the response body data types\r",
											"pm.test(\"The response body data types are correct\", () => {\r",
											"    pm.expect(responseJson.message).to.be.a(\"string\");\r",
											"    pm.expect(responseJson.userId).to.be.a(\"string\");\r",
											"    pm.expect(responseJson.apiKey).to.be.a(\"string\");\r",
											"    pm.expect(responseJson.webhookSecret).to.be.a(\"string\");\r",
											"    pm.expect(responseJson.role).to.be.a(\"string\");\r",
											"    pm.expect(responseJson.createdAt).to.be.a(\"string\");\r",
											"})\r",
											"\r",
											"// 5. Check if the createdAt field is a valid ISO 8601 timestamp.\r",
											"pm.test(\"createdAt is a valid ISO 8601 timestamp\", () => {\r",
											"    // ISO 8601 with microseconds: 2025-11-10T13:01:12.615000Z\r",
											"    const isoRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d{1,6})?Z$/;\r",
											"    pm.expect(responseJson.createdAt).to.match(isoRegex);\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"Falcon Quantum01\",\r\n    \"email\": \"falcons@quantum01.com\",\r\n    \"password\": \"Password123!#\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/v1/users/register",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"users",
										"register"
									]
								}
							},
							"response": []
						},
						{
							"name": "User Login (Get user JWT Token)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check Status Code\r",
											"pm.test(\"Status code is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"// parse response body\r",
											"const responseJson = pm.response.json();\r",
											"\r",
											"// 2. Verify the response body contains expected properties\r",
											"pm.test(\"Response body contains expected properties\", () => {\r",
											"    pm.expect(responseJson).to.have.property(\"access_token\");\r",
											"    pm.expect(responseJson).to.have.property(\"token_type\");\r",
											"    pm.expect(responseJson).to.have.property(\"userId\");\r",
											"    pm.expect(responseJson).to.have.property(\"role\");\r",
											"});\r",
											"\r",
											"// 3. Check if the response contains the expected values\r",
											"pm.test(\"Response body contains expected values\", () => { \r",
											"    pm.expect(responseJson.access_token).to.not.be.empty;\r",
											"    pm.expect(responseJson.token_type).to.equal(\"bearer\");\r",
											"    pm.expect(responseJson.userId).to.not.be.empty;\r",
											"    pm.expect(responseJson.role).to.not.be.empty;\r",
											"})\r",
											"\r",
											"\r",
											"// 4. Generate JWT token for the test user\r",
											"pm.test(\"Test user JWT token is generated\", () => {\r",
											"\r",
											"    pm.environment.set(\"test_user_jwt\", responseJson.access_token);\r",
											"    pm.environment.set(\"test_user_jwt_token_type\", responseJson.token_type);\r",
											"    pm.environment.set(\"test_user_id\", responseJson.userId);\r",
											"    pm.environment.set(\"test_user_role\", responseJson.role);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{test_user_email}}\",\r\n    \"password\": \"{{test_user_password}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/v1/users/login",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"users",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "Admin Login (Get admin JWT Token)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check Status Code\r",
											"pm.test(\"Status code is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"// parse response body\r",
											"const responseJson = pm.response.json();\r",
											"console.log(responseJson);\r",
											"\r",
											"\r",
											"\r",
											"// 2. Verify the response body contains expected properties\r",
											"pm.test(\"Response body contains expected properties\", () => {\r",
											"    pm.expect(responseJson).to.have.property(\"access_token\");\r",
											"    pm.expect(responseJson).to.have.property(\"token_type\");\r",
											"    pm.expect(responseJson).to.have.property(\"userId\");\r",
											"    pm.expect(responseJson).to.have.property(\"role\");\r",
											"});\r",
											"\r",
											"// 3. Check if the response contains the expected values\r",
											"pm.test(\"Response body contains expected values\", () => { \r",
											"    pm.expect(responseJson.access_token).to.not.be.empty;\r",
											"    pm.expect(responseJson.token_type).to.equal(\"bearer\");\r",
											"    pm.expect(responseJson.userId).to.not.be.empty;\r",
											"    pm.expect(responseJson.role).to.not.be.empty;\r",
											"})\r",
											"\r",
											"\r",
											"// 4. Generate JWT token for the system admin\r",
											"pm.test(\"System Admin JWT token is generated\", () => {\r",
											"\r",
											"    pm.environment.set(\"admin_jwt\", responseJson.access_token);\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{admin_email}}\",\r\n    // find system admin password in .env file\r\n    \"password\": \"{{admin_password}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/v1/users/login",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"users",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "Admin: Update User Role",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check Status Code\r",
											"pm.test(\"Status code is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"// parse response body\r",
											"const responseJson = pm.response.json();\r",
											"\r",
											"//2.  Verify userId in response matches the target user\r",
											"pm.test(\"Verify userId in response matches the target user\", () => { \r",
											"    pm.expect(responseJson.userId).to.eql(pm.environment.get(\"test_user_id\"));\r",
											"});\r",
											"\r",
											"// Extract new_role from request body\r",
											"let reqBody = JSON.parse(pm.request.body.raw);\r",
											"let newRole = reqBody.new_role;\r",
											"// Extract current role from environment variable\r",
											"let currentRole = pm.environment.get(\"test_user_role\");\r",
											"\r",
											"// Confirm updated role matches the new role in the request body\r",
											"pm.test(\"User role updated to the correct value\", () => { \r",
											"    pm.expect(currentRole).to.eq(newRole);\r",
											"});\r",
											"\r",
											" "
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// Parse current request body\r",
											"let reqBody = JSON.parse(pm.request.body.raw);\r",
											"\r",
											"// Extract the role that was manually entered in the request body\r",
											"let newRole = reqBody.new_role;\r",
											"\r",
											"// Set Postman environment variable equal to the new role from the request body.\r",
											"pm.environment.set(\"test_user_role\", newRole);\r",
											"\r",
											"console.log(\"Updated Postman variable: currentUserRole =\", newRole);\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disabledSystemHeaders": {
									"content-type": true
								}
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{admin_jwt}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"new_role\": \"merchant\"\r\n    \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/v1/users/{{test_user_id}}/role",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"users",
										"{{test_user_id}}",
										"role"
									],
									"query": [
										{
											"key": "",
											"value": null,
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Protected Route (Authenticated User)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check Response Status Code\r",
											"pm.test(\"Response status code is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"\r",
											"// 2. Validate userId and role fields\r",
											"pm.test(\"Response body returns userId and role fields\", () => {\r",
											"    pm.expect(responseJson.userId).to.not.be.undefined;\r",
											"    pm.expect(responseJson.role).to.not.be.undefined;\r",
											"});\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{test_user_jwt}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/api/v1/protected",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"protected"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Negative tests User Management & Authentication",
					"item": [
						{
							"name": "Register New User Missing Email",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"if(pm.request.body && pm.request.body.raw){\r",
											"const req = JSON.parse(pm.request.body.raw);\r",
											"// if request body True set environment variables\r",
											"pm.environment.set(\"test_user_name\", req.name);\r",
											"pm.environment.set(\"test_user_email\", req.email);\r",
											"pm.environment.set(\"test_user_password\", req.password);\r",
											"};"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check response status code\r",
											"pm.test(\"Response Status Code 422 Unprocessable Entity\", () => {\r",
											"    pm.response.to.have.status(422);\r",
											"})\r",
											"    // parse response JSON\r",
											"    const responseJson = pm.response.json();\r",
											"    const errorDetail = responseJson.detail[0];\r",
											"\r",
											"// 2. Check response structure has \"detail\"\r",
											"pm.test(\"Response contains 'detail' array\", () => {\r",
											"    pm.expect(responseJson).to.have.property(\"detail\");\r",
											"    pm.expect(responseJson.detail).to.be.an(\"array\").that.is.not.empty;\r",
											"});\r",
											"\r",
											"// 3. Check that the error refers to the 'email' field\r",
											"pm.test(\"Validation error refers to 'email' field\", () => {\r",
											"    pm.expect(errorDetail.loc).to.include(\"email\");\r",
											"});\r",
											"\r",
											"// 4. Check that the error type is pattern mismatch\r",
											"pm.test(\"Validation error type is 'string_pattern_mismatch'\", () => {\r",
											"    pm.expect(errorDetail.type).to.equal(\"string_pattern_mismatch\");\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"Falcon Quantum01\",\r\n    \"email\": \"\",\r\n    \"password\": \"Password123!#\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/v1/users/register",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"users",
										"register"
									]
								}
							},
							"response": []
						},
						{
							"name": "Register New User Missing Name",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"if(pm.request.body && pm.request.body.raw){\r",
											"const req = JSON.parse(pm.request.body.raw);\r",
											"// if request body True set environment variables\r",
											"pm.environment.set(\"test_user_name\", req.name);\r",
											"pm.environment.set(\"test_user_email\", req.email);\r",
											"pm.environment.set(\"test_user_password\", req.password);\r",
											"};"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check response status code\r",
											"pm.test(\"Response Status Code 422 Unprocessable Entity\", () => {\r",
											"    pm.response.to.have.status(422);\r",
											"})\r",
											"\r",
											"const err = pm.response.json().detail[0];\r",
											"\r",
											"pm.test(\"422\", () => pm.response.to.have.status(422));\r",
											"pm.test(\"Field: name\", () => pm.expect(err.loc).to.include(\"name\"));\r",
											"pm.test(\"Type: string_too_short\", () => pm.expect(err.type).to.equal(\"string_too_short\"));\r",
											"pm.test(\"Min length = 2\", () => pm.expect(err.ctx.min_length).to.equal(2));\r",
											"pm.test(\"Input is empty\", () => pm.expect(err.input).to.equal(\"\"));\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"\",\r\n    \"email\": \"falcons@quantum01.com\",\r\n    \"password\": \"Password123!#\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/v1/users/register",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"users",
										"register"
									]
								}
							},
							"response": []
						},
						{
							"name": "Register New User Missing Password",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"if(pm.request.body && pm.request.body.raw){\r",
											"const req = JSON.parse(pm.request.body.raw);\r",
											"// if request body True set environment variables\r",
											"pm.environment.set(\"test_user_name\", req.name);\r",
											"pm.environment.set(\"test_user_email\", req.email);\r",
											"pm.environment.set(\"test_user_password\", req.password);\r",
											"};"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"// 1. Check response status code\r",
											"pm.test(\"Response Status Code 422 Unprocessable Entity\", () => {\r",
											"    pm.response.to.have.status(422);\r",
											"})\r",
											"\r",
											"const err = pm.response.json().detail[0];\r",
											"\r",
											"pm.test(\"Response Status Code 422 Unprocessable Entity\", () => pm.response.to.have.status(422));\r",
											"pm.test(\"Field: password\", () => pm.expect(err.loc).to.include(\"password\"));\r",
											"pm.test(\"Type: string_too_short\", () => pm.expect(err.type).to.equal(\"string_too_short\"));\r",
											"pm.test(\"Min length = 8\", () => pm.expect(err.ctx.min_length).to.equal(8));\r",
											"pm.test(\"Input is empty\", () => pm.expect(err.input).to.equal(\"\"));\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"Falcon Quantum01\",\r\n    \"email\": \"falcons@quantum01.com\",\r\n    \"password\": \"\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/v1/users/register",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"v1",
										"users",
										"register"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Admin & System Routes",
			"item": [
				{
					"name": "Admin: Access Dashboard",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/admin/dashboard",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"admin",
								"dashboard"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Payments & Transactions",
			"item": [
				{
					"name": "Create New Payment Transaction",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/payments/charge",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"payments",
								"charge"
							]
						}
					},
					"response": []
				},
				{
					"name": "Retrieve All User Payments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/payments/all",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"payments",
								"all"
							]
						}
					},
					"response": []
				},
				{
					"name": "Retrieve/Filter Transactions (Query Params)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/payments/query",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"payments",
								"query"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Deletion Route (Users & Transactions)",
			"item": [
				{
					"name": "Delete a Transaction",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/transactions/{transaction_id}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{transaction_id}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Admin: Delete a User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/users/{user_id}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"{user_id}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Webhooks",
			"item": [
				{
					"name": "Receive and Validate Webhook",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/webhook-receive",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"webhook-receive"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	]
}